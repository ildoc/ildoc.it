  
<!DOCTYPE html>
<html lang="italian">

<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>   <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css"> 
  <link rel="stylesheet" type="text/css" href="/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/font-awesome.min.css">    <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ildoc's Atom">   
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />   <meta name="robots" content="index, follow" />   <meta name="author" content="Doc" />
<meta name="description" content="Attenzione: a prima vista potrebbe sembrare uno script perfettamente inutile (e infatti lo è) Un giorno ho sentito il bisogno di avere un changelog da mettere nel progetto che stavo facendo, ma non avevo voglia di fare OGNI VOLTA copia/incolla delle modifiche, datarle, suddividerle e cazzi vari. Allora ho …" />
<meta name="keywords" content="beautifulsoup, github, python">

<meta property="og:site_name" content="ildoc's"/>
<meta property="og:title" content="gitScrape: ottenere un changelog dalle commit su GitHub"/>
<meta property="og:description" content="Attenzione: a prima vista potrebbe sembrare uno script perfettamente inutile (e infatti lo è) Un giorno ho sentito il bisogno di avere un changelog da mettere nel progetto che stavo facendo, ma non avevo voglia di fare OGNI VOLTA copia/incolla delle modifiche, datarle, suddividerle e cazzi vari. Allora ho …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/gitscrape-ottenere-un-changelog-dalle-commit-su-github.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2013-09-17 11:27:00+02:00"/>
<meta property="article:modified_time" content="2015-03-24 16:09:15+01:00"/>
<meta property="article:author" content="/author/doc.html">
<meta property="article:section" content="2013"/>
<meta property="article:tag" content="beautifulsoup"/>
<meta property="article:tag" content="github"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="">

  <title>ildoc's &ndash; gitScrape: ottenere un changelog dalle commit su GitHub</title>

</head>

<body>
  <aside>
    <div>
      <a href="/">
        <img src="/theme/img/profile.png" alt="ildoc's" title="ildoc's">
      </a>
      <h1><a href="/">ildoc's</a></h1>

       <nav>
        <ul class="list">
            <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
          <li><a href="http://python.org/" target="_blank">Python.org</a></li>
          <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
          <li><a href="#" target="_blank">You can modify those links in your config file</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-Twitter" href="https://twitter.com/il_doc" target="_blank"><i class="fa fa-Twitter"></i></a></li>
        <li><a class="sc-GitHub" href="https://github.com/ildoc" target="_blank"><i class="fa fa-GitHub"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>
  <article class="single">
  <header>
      
    <h1 id="gitscrape-ottenere-un-changelog-dalle-commit-su-github">gitScrape: ottenere un changelog dalle commit su GitHub</h1>
    <p>
       Posted on mar 17 settembre 2013 in <a href="/category/2013.html">2013</a> 

    </p>
  </header>


  <div>
    <p>Attenzione: a prima vista potrebbe sembrare uno script perfettamente
inutile (e infatti lo è)</p>
<p>Un giorno ho sentito il bisogno di avere un changelog da mettere nel
progetto che stavo facendo, ma non avevo voglia di fare OGNI VOLTA
copia/incolla delle modifiche, datarle, suddividerle e cazzi vari.</p>
<p>Allora ho scritto questo, facendo uso di
<a href="http://www.crummy.com/software/BeautifulSoup/" title="BeautifulSoup">BeautifulSoup</a>.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>  
<span class="kn">import</span> <span class="nn">urllib2</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/doc90/Organizr/commits/master&#39;</span> <span class="c1"># url delle commit del branch</span>

<span class="n">usock</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>  
<span class="n">data</span> <span class="o">=</span> <span class="n">usock</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  
<span class="n">usock</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">s</span><span class="o">=</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  
<span class="k">for</span> <span class="n">h3</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;h3&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;commit-group-heading&#39;</span><span class="p">}):</span>  
    <span class="k">print</span> <span class="n">h3</span><span class="o">.</span><span class="n">text</span>  
    <span class="k">for</span> <span class="n">li</span> <span class="ow">in</span> <span class="n">h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;commit commit-group-item js-navigation-item js-details-container&#39;</span><span class="p">}):</span>  
        <span class="k">print</span> <span class="s2">&quot;- </span><span class="si">%s</span><span class="s2"> </span><span class="si">% s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;message&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;sha&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>  
    <span class="k">print</span> <span class="s1">&#39;&#39;</span>
</pre></div>


<p>Per ottenere una roba tipo:</p>
<div class="highlight"><pre><span></span>Sep 10, 2013
- momentaneamente disattivati i recaptcha 26ed8c9216

Sep 09, 2013  
- fix minori 50763c8827  
- aggiunta bbcode 917a7c4505

Sep 08, 2013  
- aggiunte alcune immagini 0ae5963232  
- fix minori 188e74a37f  
- finito sistema patch f46744d22c  
- riscrittura blog 862537bf4e

Sep 07, 2013  
- inizio scrittura sistema patch 3d455d1bf3

Sep 02, 2013  
- fine passaggio a pdo 11d1134d30  
- inizio passaggio a pdo 4d03359967

Sep 01, 2013  
- cambiamenti minori f88259d247

Aug 30, 2013  
- inizio aggiunta date negli eventi 472cc4a402

Aug 29, 2013  
- rimosso globals.php, spostati funzioni e json, alcuni fix 7168c39aeb  
- aggiunto file di configurazione 166ed5b128  
- first commit cd1aeccd70&lt;/code&gt;
</pre></div>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/tag/beautifulsoup.html">beautifulsoup</a>
      <a href="/tag/github.html">github</a>
      <a href="/tag/python.html">python</a>
    </p>
  </div>



    <div class="addthis_relatedposts_inline">


</article>

    <footer>
 <p>
  &copy;   - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p> Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a> </p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>     </footer>
  </main>

    <script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " ildoc's ",
  "url" : "",
  "image": "",
  "description": ""
}
</script>  </body>

</html>